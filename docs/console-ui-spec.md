# Console UI Redesign Specification: "Control Center"

## 1. 概要
本文書は、Claude Orchestra の新しい操作インターフェース「Control Center」の設計仕様です。旧来の「ダッシュボード」という概念を超え、プロフェッショナルでモダンなコマンドセンターとしてのUXを提供します。

## 2. モダンなビジュアルデザイン

### 2.1 レイアウト・コンセプト
枠線には薄い境界線 (`│`, `─`) ではなく、モダンな太枠やグラデーションを意識した色使いを採用します。

```text
  💠 CLAUDE ORCHESTRA | CONTROL CENTER v2.0
  ──────────────────────────────────────────────────────────────────────────
  [ 󰚀 System Active ]  [ 󰙨 85% CPU ]  [ 󱃸 5/10 Tasks ]  [ 󱑎 18:42 ]

  ┌─ Pending ──────────────────────────────────────────────────────────────┐
  │  󰔚 #15  implement-auth-logic                             (High)        │
  │  󰔚 #16  refactor-db-schema                               (Normal)      │
  └────────────────────────────────────────────────────────────────────────┘

  ┌─ Active Nodes ───┬─────────────────────────────────────────────────────┐
  │ 󱐋 #14 cli-render │ PROGRESS                                            │
  │   (Coder)        │ ██████████████████████████████░░░░░░░░ 75%          │
  │                  │                                                     │
  │ STATUS           │ 󰚗 Generating Modern UI Components...                │
  │ TIMESTAMP        │ 2026-02-15 18:42:30 (Started 3m ago)                │
  └──────────────────┴─────────────────────────────────────────────────────┘

  ┌─ Recent Events ────────────────────────────────────────────────────────┐
  │ 󰄬 #10  init-project  -  Successfully deployed to staging               │
  │ 󰄬 #11  readme-update -  Merged to main                                 │
  └────────────────────────────────────────────────────────────────────────┘

  [A] Add Task  [S] Start  [C] Complete  [L] Logs  [E] Edit  [R] Scan  [Q] Exit
  ──────────────────────────────────────────────────────────────────────────
```

### 2.2 デザイン・ガイドライン
| 要素 | スタイル方針 |
| :--- | :--- |
| **アイコン** | Nerd Fonts による視覚的な意味づけ（オプション） |
| **配色** | メイン: `#2d3436` (Dark Gray), アクセント: `#00d2ff` (Vibrant Blue) |
| **枠線** | 角丸や太線、および色のグラデーション（ Lip Gloss の `BorderForeground` 等で実現） |

## 3. 操作フローとサブスクリーン詳細

各コマンド実行時の画面遷移と挙動、および表示内容を定義します。

### 3.1 [A] Add Task (タスク追加)
ダッシュボードの内容を隠さず、コマンドラインの下部にインラインで入力エリアを展開します。

```text
  [A] Add Task  [S] Start  [C] Complete  [L] Logs  [E] Edit  [R] Scan  [Q] Exit
  ──────────────────────────────────────────────────────────────────────────
  
  ┌─ New Task ─────────────────────────────────────────────────────────────┐
  │ 📝 Description: 刷新後のUIでの日本語表示テストを行う_                       │
  │ 🤖 Agent:       [ Auto(AI) ]  Frontend  Backend  Tests  Docs           │
  └────────────────────────────────────────────────────────────────────────┘
```

入力中も上のダッシュボード情報は（更新は止まるかもしれませんが）表示され続け、コンテキストを失いません。Escapeキーで入力をキャンセルし、パネルを閉じます。

### 3.2 [S] Start / [C] Complete (状態変更)
1. **選択モード**: フォーカスが各タスクリスト（Pending/In Progress）に移動。
2. **カーソル移動**: `j/k` または `↑/↓` でタスクを選択。
3. **実行**: `Enter` でコマンド実行（`orchestrator.sh start/complete` の呼び出し）。
4. **フィードバック**: 実行中はタスク番号横に ⏳ スピナーを表示。成功するとリスト間をスムーズに移動。

### 3.3 [L] Logs (ログ表示)
全画面（またはメインエリア）をログビューアーに切り替えます。

```text
  ┌─ Logs (orchestrator-2026-02-15.log) ───────────────── [ Esc: 戻る ] ──┐
  │ 18:42:30 [INFO] Task #14 Decomposition successful: 3 subtasks         │
  │ 18:42:35 [INFO] Started Task #14 cli-render by Coder                  │
  │ 18:44:02 [DEBUG] Fetching tasks from tasks.json...                    │
  │ 18:44:05 [INFO] Received status update for #14: 75%                   │
  └───────────────────────────────────────────────────────────────────────┘
```

### 3.4 [E] Edit (タスク編集)
選択中のタスクの情報を保持した状態で、Add Taskと同様のモーダルを開きます。エージェントの担当変更や優先度の調整が可能です。

### 3.5 [R] Scan / [Q] Exit
- **Scan**: `tasks.json` の再ロードと、バックエンドプロセス（エージェント）の生存確認を並行実行。中央に小さなインジケータを表示。
- **Exit**: 確認なしで即座に終了。終了時にターミナルをクリーンアップ。

## 4. テスト設計とAI連携
... (以下略)

## 4. 実行環境と配布
- macOS/Linux でバイナリ1つで動作。
- ユーザーの環境設定（Node.js/Goなど）に依存せず、常に最高のデザインを提供。
